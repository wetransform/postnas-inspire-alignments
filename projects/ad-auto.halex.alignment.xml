<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<alignment xmlns="http://www.esdi-humboldt.eu/hale/alignment">
    <customFunction>
        <cf:custom-property-function xmlns:cf="http://www.esdi-humboldt.eu/hale/custom-function" identifier="adv.geometry.simplefeature" name="Simple Feature Geometrie" type="groovy">
            <cf:input eager="true" maxOccurs="1" minOccurs="1" name="geometrie"/>
            <cf:output eager="false" maxOccurs="1" minOccurs="1"/>
            <cf:definition>
                <core:text xmlns:core="http://www.esdi-humboldt.eu/hale/core" xml:space="preserve">
def geoms = _.geom.toSimpleGeometries(geometries: _.geom.aggregate(geometrie), collections: false)
if (geoms) {
	if (geoms.size() &gt; 1) {
		_log.error("Mehrere Geometrien gefunden - Aufteilung nötig")
	}
	_target(geoms[0])
}
else {
	_log.error("Keine Geometrie gefunden")
}
</core:text>
            </cf:definition>
            <cf:explanation>
                <cf:locale country="" language="" variant="">
                    <cf:template>
                        <core:text xmlns:core="http://www.esdi-humboldt.eu/hale/core" xml:space="preserve">
Überführt die Quell-Geometrien als eine zusammengefasste Simple Feature Geometrie (ohne Multi-Geometrien).

Nur erfolgreich falls genau eine Simple Feature Geometrie gebildet werden kann. Andernfalls wird ein entsprechender Fehler in die Transformations-Logs eingetragen.
</core:text>
                    </cf:template>
                </cf:locale>
            </cf:explanation>
        </cf:custom-property-function>
    </customFunction>
    <customFunction>
        <cf:custom-property-function xmlns:cf="http://www.esdi-humboldt.eu/hale/custom-function" identifier="adv.geometry.simplefeature.multi" name="Simple Feature Geometrie (Multi)" type="groovy">
            <cf:input eager="true" maxOccurs="1" minOccurs="1" name="geometrie"/>
            <cf:output eager="false" maxOccurs="1" minOccurs="1"/>
            <cf:definition>
                <core:text xmlns:core="http://www.esdi-humboldt.eu/hale/core" xml:space="preserve">
def geoms = _.geom.toSimpleGeometries(geometries: _.geom.aggregate(geometrie), collections: true)
if (geoms) {
	if (geoms.size() &gt; 1) {
		_log.error("Mehrere Geometrien gefunden - Aufteilung nötig")
	}
	_target(geoms[0])
}
else {
	_log.error("Keine Geometrie gefunden")
}
</core:text>
            </cf:definition>
            <cf:explanation>
                <cf:locale country="" language="" variant="">
                    <cf:template>
                        <core:text xmlns:core="http://www.esdi-humboldt.eu/hale/core" xml:space="preserve">
Überführt die Quell-Geometrien als eine zusammengefasste Simple Feature Geometrie (ggf. als Multi-Geometrie).

Nur erfolgreich falls genau eine Simple Feature Geometrie gebildet werden kann. Andernfalls wird ein entsprechender Fehler in die Transformations-Logs eingetragen.
</core:text>
                    </cf:template>
                </cf:locale>
            </cf:explanation>
        </cf:custom-property-function>
    </customFunction>
    <customFunction>
        <cf:custom-property-function xmlns:cf="http://www.esdi-humboldt.eu/hale/custom-function" identifier="adv.inspire.AX_Lagebezeichnung.GeographicalName" name="AX_Lagebezeichnung zu GeographicalName" type="groovy">
            <cf:input eager="false" maxOccurs="1" minOccurs="1" name="lagebezeichnung">
                <cf:binding>java.lang.String</cf:binding>
                <cf:type name="AX_LagebezeichnungType" ns="http://www.adv-online.de/namespaces/adv/gid/6.0"/>
            </cf:input>
            <cf:input eager="false" maxOccurs="1" minOccurs="0" name="source">
                <cf:binding>java.lang.String</cf:binding>
            </cf:input>
            <cf:output eager="false" maxOccurs="1" minOccurs="1">
                <cf:type name="GeographicalNameType" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
            </cf:output>
            <cf:param maxOccurs="1" minOccurs="0" name="source">
                <cf:description>
                    <core:text xmlns:core="http://www.esdi-humboldt.eu/hale/core" xml:space="preserve">Quelle des Namens. Falls nicht angegeben wird sie aus einer Projekt-Variable bestimmt.</core:text>
                </cf:description>
                <cf:display value="Source of name"/>
                <cf:binding>java.lang.String</cf:binding>
            </cf:param>
            <cf:param maxOccurs="1" minOccurs="0" name="nameStatus">
                <cf:description>
                    <core:text xmlns:core="http://www.esdi-humboldt.eu/hale/core" xml:space="preserve">Status des Namens. Falls nicht angegeben wird als Standardwert official angenommen.</core:text>
                </cf:description>
                <cf:display value="nameStatus"/>
                <cf:value>standardised</cf:value>
                <cf:value>other</cf:value>
                <cf:value>official</cf:value>
                <cf:value>historical</cf:value>
                <cf:value>unpopulated</cf:value>
                <cf:value>unknown</cf:value>
            </cf:param>
            <cf:param maxOccurs="1" minOccurs="0" name="nativeness">
                <cf:description>
                    <core:text xmlns:core="http://www.esdi-humboldt.eu/hale/core" xml:space="preserve">Ortsüblichkeit des Namens. Falls nicht angegeben wird als Standardwert endonym angenommen.</core:text>
                </cf:description>
                <cf:display value="nativeness"/>
                <cf:value>endonym</cf:value>
                <cf:value>unpopulated</cf:value>
                <cf:value>exonym</cf:value>
                <cf:value>unknown</cf:value>
            </cf:param>
            <cf:definition>
                <core:text xmlns:core="http://www.esdi-humboldt.eu/hale/core" xml:space="preserve">
def name = lagebezeichnung.p.unverschluesselt.value()

if (!name) {
	// Namen auch aus verschlüsselter Lagebezeichnung ableiten
	
	def gemeinde = lagebezeichnung.p.verschluesselt.AX_VerschluesselteLagebezeichnung.gemeinde.value()
	def kreis = lagebezeichnung.p.verschluesselt.AX_VerschluesselteLagebezeichnung.kreis.value()
	def lage = lagebezeichnung.p.verschluesselt.AX_VerschluesselteLagebezeichnung.lage.value()
	def land = lagebezeichnung.p.verschluesselt.AX_VerschluesselteLagebezeichnung.land.value()
	def reg = lagebezeichnung.p.verschluesselt.AX_VerschluesselteLagebezeichnung.regierungsbezirk.value()

	if (land &amp;&amp; gemeinde &amp;&amp; kreis &amp;&amp; lage) {
		if (!reg) reg = '0'
		def schluesselGesamt = "$land$reg$kreis$gemeinde$lage"
		
		withTransformationContext {
			def collect = _.context.collector(it)
	  
			// Name zu Schlüssel der Lagebezeichnung aus Index holen
			if (collect.lagebezeichnung[schluesselGesamt].value()){
				name = collect.lagebezeichnung[schluesselGesamt].value()
			}
			else _log.error('Für einen Namen aus einer verschlüsselten Lagebezeichnung liegt kein Katalogeintrag vor.')
		}
	}
}

if (name) {
	def sourceName_var = _project.vars.get('ADV_MODELLART', null)

	_target {
		// source

		// Priorität 1 - feste Quelle
		if (_params.source) {
			sourceOfName( _params.source )
		}
		// Priorität 2 - aus Projektvariable
		else if (sourceName_var) {
			sourceOfName( sourceName_var )
		}
		else {
			sourceOfName {
				nilReason( 'unknown' )
			}
		}

		// nativeness
		def nn = _params.nativeness
		if (nn) {
			if (nn == 'unpopulated') {
				nativeness {
					nilReason( 'other:unpopulated' )
				}
			}
			else if (nn == 'unknown') {
				nativeness {
					nilReason( 'unknown' )
				}
			}
			else {
				nativeness {
					href( 'http://inspire.ec.europa.eu/codelist/NativenessValue/' + nn )
				}
			}
		}
		else {
			// default for nativeness if not specified is endonym
			nativeness {
				href( 'http://inspire.ec.europa.eu/codelist/NativenessValue/endonym' )
			}
		}

		// nameStatus
		def ns = _params.nameStatus
		if (ns) {
			if (ns == 'unpopulated') {
				nameStatus {
					nilReason( 'other:unpopulated' )
				}
			}
			else if (ns == 'unknown') {
				nameStatus {
					nilReason( 'unknown' )
				}
			}
			else {
				nameStatus {
					href( 'http://inspire.ec.europa.eu/codelist/NameStatusValue/' + ns )
				}
			}
		}
		else {
			// default for nameStatus if not specified is official
			nameStatus {
				href( 'http://inspire.ec.europa.eu/codelist/NameStatusValue/official' )
			}
		}

		// spelling
		spelling {
			SpellingOfName {
				text( name )
				script( 'Latn' )
			}
		}
		// language
		language( 'deu' )
	}
}
else {
	throw new NoResultException()
}
</core:text>
            </cf:definition>
            <cf:explanation>
                <cf:locale country="" language="" variant="">
                    <cf:template>
                        <core:text xmlns:core="http://www.esdi-humboldt.eu/hale/core" xml:space="preserve">
Erstellt ein GeographicalName-Objekt aus einer Lagebezeichnung.&#13;
Eine unverschlüsselte Lagebezeichnung wird direkt als Name übernommen.&#13;
Falls stattdessen eine verschlüsselte Lagebezeichnung vorliegt (nur in ALKIS/DLKM möglich), wird versucht den Namen über den Schlüssel in einem Index nachzuschlagen.&#13;
Trifft keiner der beiden Fälle zu, oder kann der Name nicht nachgeschlagen werden, wird kein GeographicalName erzeugt.&#13;
&#13;
Die Sprache des Namens wird als Deutsch angenommen.&#13;
&#13;
&lt;% if (_params.nameStatus) {&#13;
  if (_params.nameStatus == 'unpopulated') {&#13;
    out &lt;&lt; "Der Status des Namens (`nameStatus`) wird nicht angegeben, als *nilReason* wird `other:unpopulated` angegeben."&#13;
  }&#13;
  else if (_params.nameStatus == 'unknown') {&#13;
    out &lt;&lt; "Der Status des Namens (`nameStatus`) wird nicht angegeben, als *nilReason* wird `unknown` angegeben."&#13;
  }&#13;
  else {&#13;
    out &lt;&lt; "Der Status des Namens (`nameStatus`) wird als ${_params.nameStatus} angegeben (siehe &lt;http://inspire.ec.europa.eu/codelist/NameStatusValue&gt;)."&#13;
  }&#13;
}&#13;
else {&#13;
  out &lt;&lt; "Der Status des Namens (`nameStatus`) wird als *official* angegeben (siehe &lt;http://inspire.ec.europa.eu/codelist/NameStatusValue&gt;)."&#13;
}&#13;
out &lt;&lt; "\n\n"&#13;
if (_params.nativeness) {&#13;
  if (_params.nativeness == 'unpopulated') {&#13;
    out &lt;&lt; "Die Ortsüblichkeit (`nativeness`) wird nicht angegeben, als *nilReason* wird `other:unpopulated` angegeben."&#13;
  }&#13;
  else if (_params.nativeness == 'unknown') {&#13;
    out &lt;&lt; "Die Ortsüblichkeit (`nativeness`) wird nicht angegeben, als *nilReason* wird `unknown` angegeben."&#13;
  }&#13;
  else {&#13;
    out &lt;&lt; "Die Ortsüblichkeit (`nativeness`) wird als ${_params.nativeness} angegeben (siehe &lt;http://inspire.ec.europa.eu/codelist/NativenessValue&gt;)."&#13;
  }&#13;
}&#13;
else {&#13;
  out &lt;&lt; "Die Ortsüblichkeit (`nativeness`) wird als *endonym* angegeben (siehe &lt;http://inspire.ec.europa.eu/codelist/NativenessValue&gt;)."&#13;
}&#13;
out &lt;&lt; "\n\n"&#13;
if (_params.source) {&#13;&#13;
  out &lt;&lt; "Die Quelle des Namens (`sourceOfName`) wird als ${_params.source} angegeben."&#13;&#13;
} else {&#13;&#13;
  out &lt;&lt; "Die Quelle des Namens (`sourceOfName`) wird aus einer Projekt-Variable (`ADV_MODELLART`) bestimmt, falls vorhanden."&#13;&#13;
} %&gt;
</core:text>
                    </cf:template>
                </cf:locale>
            </cf:explanation>
        </cf:custom-property-function>
    </customFunction>
    <customFunction>
        <cf:custom-property-function xmlns:cf="http://www.esdi-humboldt.eu/hale/custom-function" identifier="adv.inspire.GeographicalName.simple" name="Einfacher GeographicalName (Deutsch)" type="groovy">
            <cf:input eager="false" maxOccurs="1" minOccurs="1" name="spelling">
                <cf:binding>java.lang.String</cf:binding>
            </cf:input>
            <cf:input eager="true" maxOccurs="1" minOccurs="0" name="source">
                <cf:binding>java.lang.String</cf:binding>
                <cf:type name="AA_ModellartPropertyType" ns="http://www.adv-online.de/namespaces/adv/gid/6.0"/>
            </cf:input>
            <cf:output eager="false" maxOccurs="1" minOccurs="1">
                <cf:type name="GeographicalNameType" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
            </cf:output>
            <cf:param maxOccurs="1" minOccurs="0" name="source">
                <cf:description>
                    <core:text xmlns:core="http://www.esdi-humboldt.eu/hale/core" xml:space="preserve">Quelle des Namens. Falls nicht angegeben wird sie aus einer Projekt-Variable oder, falls konfiguriert, aus dem Quell-Objekt bestimmt.</core:text>
                </cf:description>
                <cf:display value="Source of name"/>
                <cf:binding>java.lang.String</cf:binding>
            </cf:param>
            <cf:param maxOccurs="1" minOccurs="0" name="nameStatus">
                <cf:description>
                    <core:text xmlns:core="http://www.esdi-humboldt.eu/hale/core" xml:space="preserve">Status des Namens. Falls nicht angegeben wird als Standardwert official angenommen.</core:text>
                </cf:description>
                <cf:display value="nameStatus"/>
                <cf:value>standardised</cf:value>
                <cf:value>other</cf:value>
                <cf:value>official</cf:value>
                <cf:value>historical</cf:value>
                <cf:value>unpopulated</cf:value>
                <cf:value>unknown</cf:value>
            </cf:param>
            <cf:param maxOccurs="1" minOccurs="0" name="nativeness">
                <cf:description>
                    <core:text xmlns:core="http://www.esdi-humboldt.eu/hale/core" xml:space="preserve">Ortsüblichkeit des Namens. Falls nicht angegeben wird als Standardwert endonym angenommen.</core:text>
                </cf:description>
                <cf:display value="nativeness"/>
                <cf:value>endonym</cf:value>
                <cf:value>unpopulated</cf:value>
                <cf:value>exonym</cf:value>
                <cf:value>unknown</cf:value>
            </cf:param>
            <cf:definition>
                <core:text xmlns:core="http://www.esdi-humboldt.eu/hale/core" xml:space="preserve">
def sourceNameFromModellart() {
	if (source) {
		def modelle = source.p.AA_Modellart.advStandardModell.values()
		if (modelle) {
			//TODO Logik um korrektes anzugebendes Modell zu bestimmen?
			//XXX Vorerst wird erstes Modell zurückgegeben
			return modelle[0]
		}
	}
	
	null
}

def sourceName_input = sourceNameFromModellart()
def sourceName_var = _project.vars.get('ADV_MODELLART', null)

if (spelling) {
	_target {
		
		// Priorität 1 - feste Quelle
		if (_params.source) {
			sourceOfName( _params.source )
		}
		// Priorität 2 - aus Projektvariable
		else if (sourceName_var) {
			sourceOfName( sourceName_var )
		}
		// Priorität 3 - aus Quell-Objekt
		else if (sourceName_input) {
			sourceOfName( sourceName_input )
		}
		else {
			sourceOfName {
				nilReason( 'unknown' )
			}
		}
		pronunciation {
			nilReason( 'other:unpopulated' )
		}
		// nameStatus
		def ns = _params.nameStatus
		if (ns) {
			if (ns == 'unpopulated') {
				nameStatus {
					nilReason( 'other:unpopulated' )
				}
			}
			else if (ns == 'unknown') {
				nameStatus {
					nilReason( 'unknown' )
				}
			}
			else {
				nameStatus {
					href( 'http://inspire.ec.europa.eu/codelist/NameStatusValue/' + ns )
				}
			}
		}
		else {
			// default for nameStatus if not specified is official
			nameStatus {
				href( 'http://inspire.ec.europa.eu/codelist/NameStatusValue/official' )
			}
		}
		// nativeness
		def nn = _params.nativeness
		if (nn) {
			if (nn == 'unpopulated') {
				nativeness {
					nilReason( 'other:unpopulated' )
				}
			}
			else if (nn == 'unknown') {
				nativeness {
					nilReason( 'unknown' )
				}
			}
			else {
				nativeness {
					href( 'http://inspire.ec.europa.eu/codelist/NativenessValue/' + nn )
				}
			}
		}
		else {
			// default for nativeness if not specified is endonym
			nativeness {
				href( 'http://inspire.ec.europa.eu/codelist/NativenessValue/endonym' )
			}
		}
		spelling {
			SpellingOfName {
				text( spelling )
				script ( 'Latn' )
			}
		}
		language( 'deu' )
	}
}
else {
	throw new NoResultException()
}
</core:text>
            </cf:definition>
            <cf:explanation>
                <cf:locale country="" language="" variant="">
                    <cf:template>
                        <core:text xmlns:core="http://www.esdi-humboldt.eu/hale/core" xml:space="preserve">
Bildet ein GeographicalName-Objekt zu einem einfachen Namen. Der Wert des Quell-Attributs $spelling wird als Schreibweise des Namens übernommen (`SpellingOfName`).&#13;
&#13;
Die Sprache wird als Deutsch angenommen.&#13;

&lt;% if (_params.nameStatus) {
  if (_params.nameStatus == 'unpopulated') {
    out &lt;&lt; "Der Status des Namens (`nameStatus`) wird nicht angegeben, als *nilReason* wird `other:unpopulated` angegeben."
  }
  else if (_params.nameStatus == 'unknown') {
    out &lt;&lt; "Der Status des Namens (`nameStatus`) wird nicht angegeben, als *nilReason* wird `unknown` angegeben."
  }
  else {
    out &lt;&lt; "Der Status des Namens (`nameStatus`) wird als ${_params.nameStatus} angegeben (siehe &lt;http://inspire.ec.europa.eu/codelist/NameStatusValue&gt;)."
  }
}
else {
  out &lt;&lt; "Der Status des Namens (`nameStatus`) wird als *official* angegeben (siehe &lt;http://inspire.ec.europa.eu/codelist/NameStatusValue&gt;)."
}
out &lt;&lt; "\n\n"
if (_params.nativeness) {
  if (_params.nativeness == 'unpopulated') {
    out &lt;&lt; "Die Ortsüblichkeit (`nativeness`) wird nicht angegeben, als *nilReason* wird `other:unpopulated` angegeben."
  }
  else if (_params.nativeness == 'unknown') {
    out &lt;&lt; "Die Ortsüblichkeit (`nativeness`) wird nicht angegeben, als *nilReason* wird `unknown` angegeben."
  }
  else {
    out &lt;&lt; "Die Ortsüblichkeit (`nativeness`) wird als ${_params.nativeness} angegeben (siehe &lt;http://inspire.ec.europa.eu/codelist/NativenessValue&gt;)."
  }
}
else {
  out &lt;&lt; "Die Ortsüblichkeit (`nativeness`) wird als *endonym* angegeben (siehe &lt;http://inspire.ec.europa.eu/codelist/NativenessValue&gt;)."
}
out &lt;&lt; "\n\n"
if (_params.source) {&#13;
  out &lt;&lt; "Die Quelle des Namens (`sourceOfName`) wird als ${_params.source} angegeben."&#13;
} else if (source) {&#13;
  out &lt;&lt; "Die Quelle des Namens (`sourceOfName`) wird aus einer Projekt-Variable (`ADV_MODELLART`) bestimmt, falls vorhanden, andernfalls wird das Quell-Attribut $source dafür herangezogen. "&#13;
  out &lt;&lt; "In letzterem Fall kann nur eine von potentiell mehreren im Quellobjekt angegebenen Modellarten übernommen werden."&#13;
} else {&#13;
  out &lt;&lt; "Die Quelle des Namens (`sourceOfName`) wird aus einer Projekt-Variable (`ADV_MODELLART`) bestimmt, falls vorhanden."&#13;
} %&gt;
</core:text>
                    </cf:template>
                </cf:locale>
            </cf:explanation>
        </cf:custom-property-function>
    </customFunction>
    <customFunction>
        <cf:custom-property-function xmlns:cf="http://www.esdi-humboldt.eu/hale/custom-function" identifier="adv.inspire.date.earliest" name="Jüngstes Datum" type="groovy">
            <cf:input eager="true" maxOccurs="-1" minOccurs="1" name="dates">
                <cf:binding>java.lang.String</cf:binding>
            </cf:input>
            <cf:output eager="false" maxOccurs="1" minOccurs="1">
                <cf:binding>java.lang.String</cf:binding>
            </cf:output>
            <cf:definition>
                <core:text xmlns:core="http://www.esdi-humboldt.eu/hale/core" xml:space="preserve">
//import java.text.SimpleDateFormat
//def formatter = new SimpleDateFormat('yyyy-MM-dd')

// all source dates as list
def values = dates.p.values()

if (!values) {
	// no result
	return null
}

// try to convert to date
values = values.collect { value -&gt;
	def result
	//XXX skip instanceof check - instanceof is not supported by Groovy Sandbox
	// and Class.isInstance requires the Groovy restriction to be lifted
	//if (Date.isInstance(value)) {
	//	result = value
	//}
	//TODO also support parsing based on provided pattern?
	if (result == null) {
		// try hale conversion
		result = _.convert(value: value, to: Date)
	}
	if (result == null) {
		result = value as Date
	}
	result
}

// sort dates
values.sort()

// yield last date
values[-1]
</core:text>
            </cf:definition>
            <cf:explanation>
                <cf:locale country="" language="" variant="">
                    <cf:template>
                        <core:text xmlns:core="http://www.esdi-humboldt.eu/hale/core" xml:space="preserve">Liefert das jüngste Datum/Zeit aller Eingabedaten.</core:text>
                    </cf:template>
                </cf:locale>
            </cf:explanation>
        </cf:custom-property-function>
    </customFunction>
    <customFunction>
        <cf:custom-property-function xmlns:cf="http://www.esdi-humboldt.eu/hale/custom-function" identifier="adv.inspire.id.default" name="AdV INSPIRE localId" type="groovy">
            <cf:input eager="true" maxOccurs="-1" minOccurs="1" name="id">
                <cf:binding>java.lang.String</cf:binding>
            </cf:input>
            <cf:output eager="false" maxOccurs="1" minOccurs="1">
                <cf:binding>java.lang.String</cf:binding>
            </cf:output>
            <cf:param maxOccurs="1" minOccurs="0" name="collectorName">
                <cf:description>
                    <core:text xmlns:core="http://www.esdi-humboldt.eu/hale/core" xml:space="preserve">Name eines Kollektors, der verwendet werden soll, um die erzeugten IDs zu sammeln.</core:text>
                </cf:description>
                <cf:display value="Collector name"/>
                <cf:binding>java.lang.String</cf:binding>
            </cf:param>
            <cf:definition>
                <core:text xmlns:core="http://www.esdi-humboldt.eu/hale/core" xml:space="preserve">
// alle Quell-IDs als Liste
def identifiers = id.p.values()

def id

if (identifiers.size() == 1) {
  // verwende Original-ID falls nur eine Quelle
  id = identifiers[0]
}
else {
  // sortieren (TODO spezielle Ordnung benötigt?)
  identifiers = identifiers.sort()

  def identString = identifiers.join()

  id = '_' + _.crypto.sha256(identString)
}

// Ziel-Typ als Präfix
if (true /*_params.useTargetTypePrefix*/) {
  def targetType = _targetType.definition.name.localPart
  if (targetType) {
    if (targetType.endsWith('Type')) {
      targetType = targetType[0..-5]
    }
  
    if (!id.startsWith('_')) {
      id = '_' + id
    }
    id = targetType + id
  }
}

// Falls ein Collector-Name angegeben wurde, IDs in diesem einspeisen

if (_params.collectorName) {
  withTransformationContext {
    def c = _.context.collector(it)
    c[_params.collectorName] &lt;&lt; id
  }
}

id
</core:text>
            </cf:definition>
            <cf:explanation>
                <cf:locale country="" language="" variant="">
                    <cf:template>
                        <core:text xmlns:core="http://www.esdi-humboldt.eu/hale/core" xml:space="preserve">
Bestimmung einer INSPIRE localId oder GML id aus Fachkennzeichen oder AAA-ObjektIDs.

Für eine einzige Quell-ID wird diese direkt herangezogen.

Andernfalls wird unter Verwendung des SHA256-Algorithmus ein Hash-Wert aus den sortierten und dann konkatenierten Quell-IDs gebildet und hexadezimal kodiert.

Außerdem wird der Name des Feature-Typs des Ziel-Modells als Präfix vorangestellt. Dabei wird sichergestellt dass der Typ-Name von den weiteren Teilen der ID durch einen Unterstrich getrennt ist.
</core:text>
                    </cf:template>
                </cf:locale>
            </cf:explanation>
        </cf:custom-property-function>
    </customFunction>
    <customFunction>
        <cf:custom-property-function xmlns:cf="http://www.esdi-humboldt.eu/hale/custom-function" identifier="adv.inspire.identifier" name="AdV INSPIRE identifier (URI)" type="groovy">
            <cf:input eager="true" maxOccurs="-1" minOccurs="1" name="id">
                <cf:binding>java.lang.String</cf:binding>
            </cf:input>
            <cf:output eager="false" maxOccurs="1" minOccurs="1">
                <cf:type name="CodeWithAuthorityType" ns="http://www.opengis.net/gml/3.2"/>
            </cf:output>
            <cf:definition>
                <core:text xmlns:core="http://www.esdi-humboldt.eu/hale/core" xml:space="preserve">
// alle Quell-IDs als Liste
def identifiers = id.p.values()

def id

if (identifiers.size() == 1) {
  // verwende Original-ID falls nur eine Quelle
  id = identifiers[0]
}
else {
  // sortieren (TODO spezielle Ordnung benötigt?)
  identifiers = identifiers.sort()

  def identString = identifiers.join()

  id = '_' + _.crypto.sha256(identString)
}

// Ziel-Typ als Präfix
if (true /*_params.useTargetTypePrefix*/) {
  def targetType = _targetType.definition.name.localPart
  if (targetType) {
    if (targetType.endsWith('Type')) {
      targetType = targetType[0..-5]
    }
  
    if (!id.startsWith('_')) {
      id = '_' + id
    }
    id = targetType + id
  }
}

// Verknüpfung mit namespace
def namespace = _project.vars.INSPIRE_NAMESPACE
if (namespace) {
  if (!namespace.endsWith('/')) {
    namespace = namespace + '/'
  }
  
  // namespace und id als Ergebnis
  _target(namespace + id) {
	codeSpace( 'http://inspire.ec.europa.eu/ids' )
  }
}
else {
  // nur id als Ergebnis
  _target(id) {
	codeSpace( 'http://inspire.ec.europa.eu/ids' )
  }
}
</core:text>
            </cf:definition>
            <cf:explanation>
                <cf:locale country="" language="" variant="">
                    <cf:template>
                        <core:text xmlns:core="http://www.esdi-humboldt.eu/hale/core" xml:space="preserve">
Bestimmung eines GML identifiers URI bestehend INSPIRE namespace und localId aus Fachkennzeichen oder AAA-ObjektIDs.

Für eine einzige Quell-ID wird diese direkt für die localId herangezogen. Andernfalls wird unter Verwendung des SHA256-Algorithmus ein Hash-Wert aus den sortierten und dann konkatenierten Quell-IDs gebildet und hexadezimal kodiert.
Als Präfix wird der localId der Name des Feature-Typs des Ziel-Modells vorangestellt. Dabei wird sichergestellt dass der Typ-Name von den weiteren Teilen der ID durch einen Unterstrich getrennt ist.

Der für Datenanbieter und Datensatz spezifische Namespace muss als Vorgabe (Projekt-Variable) konfiguriert werden.

Der `codeSpace` für den GML identifier wird als `http://inspire.ec.europa.eu/ids` gesetzt.
</core:text>
                    </cf:template>
                </cf:locale>
            </cf:explanation>
        </cf:custom-property-function>
    </customFunction>
    <customFunction>
        <cf:custom-property-function xmlns:cf="http://www.esdi-humboldt.eu/hale/custom-function" identifier="adv.inspire.namespace" name="AdV INSPIRE ID namespace" type="groovy">
            <cf:output eager="false" maxOccurs="1" minOccurs="1">
                <cf:binding>java.lang.String</cf:binding>
            </cf:output>
            <cf:definition>
                <core:text xmlns:core="http://www.esdi-humboldt.eu/hale/core" xml:space="preserve">
// verwende Wert aus Projekt-Variable "INSPIRE_NAMESPACE"
_project.vars.INSPIRE_NAMESPACE
</core:text>
            </cf:definition>
            <cf:explanation>
                <cf:locale country="" language="" variant="">
                    <cf:template>
                        <core:text xmlns:core="http://www.esdi-humboldt.eu/hale/core" xml:space="preserve">
Setzt $_target auf den für den Datensatz vorgegebenen festen INSPIRE Namespace.

Der für Datenanbieter und Datensatz spezifische Namespace muss dafür als Vorgabe (Projekt-Variable) konfiguriert werden.
</core:text>
                    </cf:template>
                </cf:locale>
            </cf:explanation>
        </cf:custom-property-function>
    </customFunction>
    <customFunction>
        <cf:custom-property-function xmlns:cf="http://www.esdi-humboldt.eu/hale/custom-function" identifier="adv.uom.toucum" name="AdV Maßeinheit zu UCUM" type="groovy">
            <cf:input eager="false" maxOccurs="1" minOccurs="1" name="uom">
                <cf:binding>java.lang.String</cf:binding>
            </cf:input>
            <cf:output eager="false" maxOccurs="1" minOccurs="1">
                <cf:binding>java.lang.String</cf:binding>
            </cf:output>
            <cf:definition>
                <core:text xmlns:core="http://www.esdi-humboldt.eu/hale/core" xml:space="preserve">
if (!uom) {
	throw new NoResultException()
}

def result

// Mapping auf UCUM
switch(uom) {
case 'urn:adv:uom:m2':
	result = 'm2'
	break
case 'urn:adv:uom:m':
	result = 'm'
	break
case 'urn:adv:uom:km':
	result = 'km'
	break
}

if (!result) {
	// Transformations-Warnung falls kein Mapping auf UCUM vorhanden
	_log.warn("Unknown UCUM representation for unit of measurment $uom, using code as-is")
	result = uom
}

result
</core:text>
            </cf:definition>
            <cf:explanation>
                <cf:locale country="" language="" variant="">
                    <cf:template>
                        <core:text xmlns:core="http://www.esdi-humboldt.eu/hale/core" xml:space="preserve">
Abbildung von Maßeinheiten aus AdV URNs nach UCUM

*Keine vollständige Abbildung, muss ggf. ergänzt werden.*

Aktuell ist folgende Abbildung umgesetzt:

- `urn:adv:uom:m2` zu `m2`
- `urn:adv:uom:m`zu `m`

</core:text>
                    </cf:template>
                </cf:locale>
            </cf:explanation>
        </cf:custom-property-function>
    </customFunction>
    <cell relation="eu.esdihumboldt.cst.functions.groovy.retype" id="C39e4c919-cee5-4735-9fd9-cdabee74a901" priority="highest">
        <source>
            <class>
                <type name="ax_flurstueck" ns="jdbc:postgresql:testbed:aaa_ogr"/>
            </class>
        </source>
        <target>
            <class>
                <type name="AbstractObject_Type" ns="http://www.isotc211.org/2005/gco"/>
            </class>
        </target>
        <complexParameter name="script">
            <core:text xmlns:core="http://www.esdi-humboldt.eu/hale/core" xml:space="preserve">
//Das ist eine Dummy Groovy Retype-Funktion. Sie dient dazu, alle relevanten Informationen aus AX_Flurstueck in einem Kollektor zu sammeln, die für den Verweis auf ein Flurstück in Address.parcel benötigt werden.&#13;
&#13;
def c = _.context.collector()&#13;
&#13;
//Kollektor wird lt. Aussage Herr Weichand in zugehöriger haleconnect Aufgabe nicht benötigt - Verweis nur von Flurstück auf Lagebezeichnung (nicht anders herum)&#13;
//c.flurstueck[_source.p.identifier.value()] &lt;&lt; _source.p.flurstueckskennzeichen.value()&#13;
&#13;
_source.p.weistAuf.each { instance -&gt;&#13;
	c.weistAuf[instance.p.href.value() as String] &lt;&lt; _source.p.flurstueckskennzeichen.value()&#13;
	//_log.info(instance.p.href.value() as String)&#13;
	//_log.info(_source.p.flurstueckskennzeichen.value())&#13;
}&#13;
&#13;
_source.p.zeigtAuf.each { instance -&gt;&#13;
	c.zeigtAuf[instance.p.href.value() as String] &lt;&lt; _source.p.flurstueckskennzeichen.value()&#13;
}
</core:text>
        </complexParameter>
        <annotation type="message">
            <core:message xmlns:core="http://www.esdi-humboldt.eu/hale/core" category="migration">
                <core:content>
                    <core:text xml:space="preserve">The cell's source entities have been replaced, the new entities may have a different structure and/or names and may require updating the Groovy script accordingly</core:text>
                </core:content>
            </core:message>
        </annotation>
    </cell>
    <cell relation="eu.esdihumboldt.cst.functions.groovy.retype" id="C410518b8-b9ce-49c9-afd4-8362027a2ff4" priority="highest">
        <source>
            <class>
                <type name="ax_gebaeude" ns="jdbc:postgresql:testbed:aaa_ogr"/>
            </class>
        </source>
        <target>
            <class>
                <type name="AbstractObject_Type" ns="http://www.isotc211.org/2005/gco"/>
            </class>
        </target>
        <complexParameter name="script">
            <core:text xmlns:core="http://www.esdi-humboldt.eu/hale/core" xml:space="preserve">
//Das ist eine Dummy Groovy Retype-Funktion. Sie dient dazu, alle relevanten Informationen aus AX_Gebaeude in einem Kollektor zu sammeln, die für den Verweis auf ein Gebäude in Address.building benötigt werden.&#13;
&#13;
def c = _.context.collector()&#13;
&#13;
//dieser Kollektor betrifft die inverse Relationsrichtung und muss daher lt. Kommentar von Herrn Weichand zur entsprechenden hale connect-Aufgabe nicht berücksichtigt werden&#13;
//c.gebaeude[_source.p.identifier.value()] &lt;&lt; _source.p.id.value()&#13;
&#13;
_source.p.zeigtAuf.each { instance -&gt;&#13;
	c.gebZeigtAuf[instance.p.href.value() as String] &lt;&lt; _source.p.id.value()&#13;
}&#13;

</core:text>
        </complexParameter>
        <annotation type="message">
            <core:message xmlns:core="http://www.esdi-humboldt.eu/hale/core" category="migration">
                <core:content>
                    <core:text xml:space="preserve">The cell's source entities have been replaced, the new entities may have a different structure and/or names and may require updating the Groovy script accordingly</core:text>
                </core:content>
            </core:message>
        </annotation>
    </cell>
    <cell relation="eu.esdihumboldt.cst.functions.groovy.retype" id="C87b61cfd-9c1f-408a-8bb5-d150f2ef638e" priority="highest">
        <source>
            <class>
                <type name="ax_georeferenziertegebaeudeadresse" ns="jdbc:postgresql:testbed:aaa_ogr"/>
            </class>
        </source>
        <target>
            <class>
                <type name="AbstractObject_Type" ns="http://www.isotc211.org/2005/gco"/>
            </class>
        </target>
        <complexParameter name="script">
            <core:text xmlns:core="http://www.esdi-humboldt.eu/hale/core" xml:space="preserve">
def c = _.context.collector()&#13;
&#13;
&#13;
c.PLZcollection[_source.p.postalischeAdresse.AX_Post.postleitzahl.value()] &lt;&lt; _source.p.postalischeAdresse.AX_Post.ortsnamePost.value()&#13;
&#13;
_log.info(_source.p.postalischeAdresse.AX_Post.postleitzahl.value())&#13;
_log.info(_source.p.postalischeAdresse.AX_Post.ortsnamePost.value())
</core:text>
        </complexParameter>
        <annotation type="message">
            <core:message xmlns:core="http://www.esdi-humboldt.eu/hale/core" category="migration">
                <core:content>
                    <core:text xml:space="preserve">The cell's source entities have been replaced, the new entities may have a different structure and/or names and may require updating the Groovy script accordingly</core:text>
                </core:content>
            </core:message>
        </annotation>
    </cell>
    <cell relation="eu.esdihumboldt.cst.functions.groovy.join" id="Cd5bb8841-8c5f-4712-bd15-03c3cf5d80ca" priority="normal">
        <source name="types">
            <class>
                <type name="ap_pto" ns="jdbc:postgresql:testbed:aaa_ogr">
                    <condition lang="CQL">signaturnummer LIKE '%4070' AND art = 'HNR'</condition>
                </type>
            </class>
        </source>
        <source name="types">
            <class>
                <type name="ax_georeferenziertegebaeudeadresse" ns="jdbc:postgresql:testbed:aaa_ogr"/>
            </class>
        </source>
        <source name="types">
            <class>
                <type name="ax_lagebezeichnungmithausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
            </class>
        </source>
        <source name="types">
            <class>
                <type name="ax_gebaeude" ns="jdbc:postgresql:testbed:aaa_ogr"/>
            </class>
        </source>
        <target>
            <class>
                <type name="AddressType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
            </class>
        </target>
        <complexParameter name="join">
            <jp:join-parameter xmlns:jp="http://www.esdi-humboldt.eu/hale/join">
                <class>
                    <type name="ax_lagebezeichnungmithausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                </class>
                <class>
                    <type name="ax_georeferenziertegebaeudeadresse" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                </class>
                <class>
                    <type name="ap_pto" ns="jdbc:postgresql:testbed:aaa_ogr">
                        <condition lang="CQL">signaturnummer LIKE '%4070' AND art = 'HNR'</condition>
                    </type>
                </class>
                <class>
                    <type name="ax_gebaeude" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                </class>
                <jp:condition>
                    <property>
                        <type name="ax_lagebezeichnungmithausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                        <child name="gml_id"/>
                    </property>
                    <property>
                        <type name="ap_pto" ns="jdbc:postgresql:testbed:aaa_ogr">
                            <condition lang="CQL">signaturnummer LIKE '%4070' AND art = 'HNR'</condition>
                        </type>
                        <child name="dientzurdarstellungvon"/>
                    </property>
                </jp:condition>
                <jp:condition>
                    <property>
                        <type name="ax_lagebezeichnungmithausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                        <child name="gml_id"/>
                    </property>
                    <property>
                        <type name="ax_gebaeude" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                        <child name="zeigtauf"/>
                    </property>
                </jp:condition>
                <jp:condition>
                    <property>
                        <type name="ax_lagebezeichnungmithausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                        <child name="gml_id"/>
                    </property>
                    <property>
                        <type name="ax_georeferenziertegebaeudeadresse" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                        <child name="hatauch"/>
                    </property>
                </jp:condition>
            </jp:join-parameter>
        </complexParameter>
        <complexParameter name="script">
            <core:text xmlns:core="http://www.esdi-humboldt.eu/hale/core" xml:space="preserve">
def positionAdresse = _source.links.AX_GeoreferenzierteGebaeudeadresse.p.position.first()&#13;
def pointId = ""&#13;
def c = _.context.collector()&#13;
if (!positionAdresse) {&#13;
	positionAdresse = _source.links.AP_PTO.p.position.first()&#13;
	if (positionAdresse) {&#13;
		pointId = positionAdresse.p.Point.id.value()&#13;
		positionAdresse = _.geom.find(positionAdresse)&#13;
	}&#13;
}&#13;
if (!positionAdresse) {&#13;
	positionAdresse = _source.links.AX_Gebaeude.p.position.first()&#13;
	if (positionAdresse) {&#13;
		positionAdresse = _.geom.centroid(_.geom.find(positionAdresse))&#13;
	}&#13;
}&#13;
&#13;
def parcels = new HashSet()&#13;
//lt. Kommentar Herr Weichand zu entpsrechender Aufgabe in haleconnect wird diese Richtung des Verweises nicht genutzt&#13;
/*_source.p.gehoertZu.each {&#13;
	instance -&gt;&#13;
	if (c.flurstueck[instance.p.href.value()].value()){&#13;
		parcels &lt;&lt; c.flurstueck[instance.p.href.value()].value()&#13;
	}&#13;
}*/&#13;
c.weistAuf[ _source.p.identifier.value() as String].each{ value -&gt;&#13;
	//_log.info(value)&#13;
	parcels &lt;&lt; value&#13;
}&#13;
&#13;
def buildings = new HashSet()&#13;
//lt. Kommentar Herr Weichand zu entpsrechender Aufgabe in haleconnect wird diese Richtung des Verweises nicht genutzt&#13;
/*_source.p.beziehtSichAuf.each {&#13;
	instance -&gt;&#13;
	if (c.gebaeude[instance.p.href.value()].value()){&#13;
		buildings &lt;&lt; c.gebaeude[instance.p.href.value()].value()&#13;
	}&#13;
}*/&#13;
c.gebZeigtAuf[ _source.p.identifier.value() as String].each{ value -&gt;&#13;
	buildings &lt;&lt; value&#13;
}&#13;
&#13;
if (positionAdresse) {&#13;
	_target {&#13;
		position {&#13;
			GeographicPosition {&#13;
				specification {&#13;
					href( 'http://inspire.ec.europa.eu/codelist/GeometrySpecificationValue/building' )&#13;
					title( 'building' )&#13;
				}&#13;
				geometry {&#13;
					Point(_.geom.find(positionAdresse))&#13;
					{&#13;
						if (pointId) {&#13;
							id(pointId)&#13;
						}&#13;
					}&#13;
				}&#13;
				method {&#13;
					href( 'http://inspire.ec.europa.eu/codelist/GeometryMethodValue/byAdministrator' )&#13;
					title( 'by administrator' )&#13;
				}&#13;
				'default'( 'true' )&#13;
			}&#13;
		}&#13;
		parcels.each{ value -&gt;&#13;
			parcel {&#13;
				href(  _project.vars.CROSSTHEME_CADASTRALPARCELS_URL + 'CadastralParcel_' + value )&#13;
			}&#13;
		}&#13;
		buildings.each{ value -&gt;&#13;
			building {&#13;
				href(  _project.vars.CROSSTHEME_BUILDINGS_URL + 'Building_' + value )&#13;
			}&#13;
		}&#13;
	}&#13;
}
</core:text>
        </complexParameter>
        <annotation type="message">
            <core:message xmlns:core="http://www.esdi-humboldt.eu/hale/core" category="migration">
                <core:content>
                    <core:text xml:space="preserve">Filter condition may not be valid because the entity it is applied to has been replaced</core:text>
                </core:content>
            </core:message>
        </annotation>
        <annotation type="message">
            <core:message xmlns:core="http://www.esdi-humboldt.eu/hale/core" category="migration">
                <core:content>
                    <core:text xml:space="preserve">The cell's source entities have been replaced, the new entities may have a different structure and/or names and may require updating the Groovy script accordingly</core:text>
                </core:content>
            </core:message>
        </annotation>
    </cell>
    <cell relation="eu.esdihumboldt.cst.functions.groovy.join" id="C08467f52-22e7-4435-9031-9149c4aac7c6" priority="normal">
        <source name="types">
            <class>
                <type name="ax_gebaeude" ns="jdbc:postgresql:testbed:aaa_ogr"/>
            </class>
        </source>
        <source name="types">
            <class>
                <type name="ax_lagebezeichnungohnehausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
            </class>
        </source>
        <source name="types">
            <class>
                <type name="ap_pto" ns="jdbc:postgresql:testbed:aaa_ogr">
                    <condition lang="CQL">signaturnummer LIKE '%4070' AND art = 'HNR'</condition>
                </type>
            </class>
        </source>
        <source name="types">
            <class>
                <type name="ax_georeferenziertegebaeudeadresse" ns="jdbc:postgresql:testbed:aaa_ogr"/>
            </class>
        </source>
        <target>
            <class>
                <type name="AddressType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
            </class>
        </target>
        <complexParameter name="join">
            <jp:join-parameter xmlns:jp="http://www.esdi-humboldt.eu/hale/join">
                <class>
                    <type name="ax_lagebezeichnungohnehausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                </class>
                <class>
                    <type name="ax_gebaeude" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                </class>
                <class>
                    <type name="ap_pto" ns="jdbc:postgresql:testbed:aaa_ogr">
                        <condition lang="CQL">signaturnummer LIKE '%4070' AND art = 'HNR'</condition>
                    </type>
                </class>
                <class>
                    <type name="ax_georeferenziertegebaeudeadresse" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                </class>
                <jp:condition>
                    <property>
                        <type name="ax_lagebezeichnungohnehausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                        <child name="gml_id"/>
                    </property>
                    <property>
                        <type name="ap_pto" ns="jdbc:postgresql:testbed:aaa_ogr">
                            <condition lang="CQL">signaturnummer LIKE '%4070' AND art = 'HNR'</condition>
                        </type>
                        <child name="dientzurdarstellungvon"/>
                    </property>
                </jp:condition>
                <jp:condition>
                    <property>
                        <type name="ax_lagebezeichnungohnehausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                        <child name="gml_id"/>
                    </property>
                    <property>
                        <type name="ax_gebaeude" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                        <child name="zeigtauf"/>
                    </property>
                </jp:condition>
                <jp:condition>
                    <property>
                        <type name="ax_lagebezeichnungohnehausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                        <child name="gml_id"/>
                    </property>
                    <property>
                        <type name="ax_georeferenziertegebaeudeadresse" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                        <child name="hatauch"/>
                    </property>
                </jp:condition>
            </jp:join-parameter>
        </complexParameter>
        <complexParameter name="script">
            <core:text xmlns:core="http://www.esdi-humboldt.eu/hale/core" xml:space="preserve">
def positionAdresse = _source.links.AX_GeoreferenzierteGebaeudeadresse.p.position.first()&#13;
def pointId = ""&#13;
def c = _.context.collector()&#13;
if (!positionAdresse) {&#13;
	positionAdresse = _source.links.AP_PTO.p.position.first()&#13;
	if (positionAdresse) {&#13;
		pointId = positionAdresse.p.Point.id.value()&#13;
		positionAdresse = _.geom.find(positionAdresse)&#13;
	}&#13;
}&#13;
if (!positionAdresse) {&#13;
	positionAdresse = _source.links.AX_Gebaeude.p.position.first()&#13;
	if (positionAdresse) {&#13;
		positionAdresse = _.geom.centroid(_.geom.find(positionAdresse))&#13;
	}&#13;
}&#13;
 &#13;
def parcels = new HashSet()&#13;
//lt. Kommentar Herr Weichand zu entpsrechender Aufgabe in haleconnect wird diese Richtung des Verweises nicht genutzt&#13;
/*_source.p.gehoertZu.each {&#13;
	instance -&gt;&#13;
	if (c.flurstueck[instance.p.href.value()].value()){&#13;
		parcels &lt;&lt; c.flurstueck[instance.p.href.value()].value()&#13;
	}&#13;
}*/&#13;
c.zeigtAuf[ _source.p.identifier.value() as String].each{ value -&gt;&#13;
	parcels &lt;&lt; value&#13;
}&#13;
&#13;
if (positionAdresse) {&#13;
	_target {&#13;
		position {&#13;
			GeographicPosition {&#13;
				specification {&#13;
					href( 'http://inspire.ec.europa.eu/codelist/GeometrySpecificationValue/building' )&#13;
					title( 'building' )&#13;
				}&#13;
				geometry {&#13;
					Point(_.geom.find(positionAdresse))&#13;
					{&#13;
						if (pointId) {&#13;
							id(pointId)&#13;
						}&#13;
					}&#13;
				}&#13;
				method {&#13;
					href( 'http://inspire.ec.europa.eu/codelist/GeometryMethodValue/byAdministrator' )&#13;
					title( 'by administrator' )&#13;
				}&#13;
				parcels.each{ value -&gt;&#13;
					parcel {&#13;
						href(  _project.vars.CROSSTHEME_CADASTRALPARCELS_URL + 'CadastralParcel_' + value )&#13;
					}&#13;
				}&#13;
				'default'( 'true' )&#13;
			}&#13;
		}&#13;
	}&#13;
}&#13;

</core:text>
        </complexParameter>
        <annotation type="message">
            <core:message xmlns:core="http://www.esdi-humboldt.eu/hale/core" category="migration">
                <core:content>
                    <core:text xml:space="preserve">Filter condition may not be valid because the entity it is applied to has been replaced</core:text>
                </core:content>
            </core:message>
        </annotation>
        <annotation type="message">
            <core:message xmlns:core="http://www.esdi-humboldt.eu/hale/core" category="migration">
                <core:content>
                    <core:text xml:space="preserve">The cell's source entities have been replaced, the new entities may have a different structure and/or names and may require updating the Groovy script accordingly</core:text>
                </core:content>
            </core:message>
        </annotation>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.rename" id="Cf26a5a1b-0059-45d7-82b6-6624cf7a104b_Cd5bb8841-8c5f-4712-bd15-03c3cf5d80ca" priority="normal">
        <source>
            <property>
                <type name="ax_lagebezeichnungmithausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="beginnt"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AddressType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="beginLifespanVersion" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
            </property>
        </target>
        <parameter value="false" name="ignoreNamespaces"/>
        <parameter value="false" name="structuralRename"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.rename" id="Cf26a5a1b-0059-45d7-82b6-6624cf7a104b_C08467f52-22e7-4435-9031-9149c4aac7c6" priority="normal">
        <source>
            <property>
                <type name="ax_lagebezeichnungohnehausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="beginnt"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AddressType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="beginLifespanVersion" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
            </property>
        </target>
        <parameter value="false" name="ignoreNamespaces"/>
        <parameter value="false" name="structuralRename"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.assign" id="C94b18a20-5cd5-4c89-9a8b-70285727ae78" priority="normal">
        <target>
            <property>
                <type name="AddressType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="beginLifespanVersion" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="nilReason"/>
            </property>
        </target>
        <parameter value="unknown" name="value"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.formattedstring" id="C26cdb092-6dd3-4145-9e40-a4dde696a11d_Cd5bb8841-8c5f-4712-bd15-03c3cf5d80ca" priority="normal">
        <source name="var">
            <property>
                <type name="ax_lagebezeichnungmithausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="land"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AddressType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="component" ns="http://inspire.ec.europa.eu/schemas/ad/4.0">
                    <context>0</context>
                </child>
                <child name="href" ns="http://www.w3.org/1999/xlink"/>
            </property>
        </target>
        <parameter value="#AdminUnitName_{land}" name="pattern"/>
        <documentation>Erzeugt die Referenz auf das `AdminUnitName`-Objekt für das (Bundes-)Land.</documentation>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.formattedstring" id="C26cdb092-6dd3-4145-9e40-a4dde696a11d_C08467f52-22e7-4435-9031-9149c4aac7c6" priority="normal">
        <source name="var">
            <property>
                <type name="ax_lagebezeichnungohnehausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="land"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AddressType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="component" ns="http://inspire.ec.europa.eu/schemas/ad/4.0">
                    <context>0</context>
                </child>
                <child name="href" ns="http://www.w3.org/1999/xlink"/>
            </property>
        </target>
        <parameter value="#AdminUnitName_{land}" name="pattern"/>
        <documentation>Erzeugt die Referenz auf das `AdminUnitName`-Objekt für das (Bundes-)Land.</documentation>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.formattedstring" id="Cfb05b17a-dca3-486f-bb18-5eca732e1d91_Cd5bb8841-8c5f-4712-bd15-03c3cf5d80ca" priority="normal">
        <source name="var">
            <property>
                <type name="ax_lagebezeichnungmithausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="land"/>
            </property>
        </source>
        <source name="var">
            <property>
                <type name="ax_lagebezeichnungmithausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="regierungsbezirk">
                    <condition lang="CQL">value &lt;&gt; '0' and value &lt;&gt; ''</condition>
                </child>
            </property>
        </source>
        <target>
            <property>
                <type name="AddressType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="component" ns="http://inspire.ec.europa.eu/schemas/ad/4.0">
                    <context>1</context>
                </child>
                <child name="href" ns="http://www.w3.org/1999/xlink"/>
            </property>
        </target>
        <parameter value="#AdminUnitName_{land}{regierungsbezirk}" name="pattern"/>
        <documentation>Erzeugt die Referenz für das `AdminUnitName`-Objekt für den Regierungsbezirk.</documentation>
        <annotation type="message">
            <core:message xmlns:core="http://www.esdi-humboldt.eu/hale/core" category="migration">
                <core:content>
                    <core:text xml:space="preserve">Filter condition may not be valid because the entity it is applied to has been replaced</core:text>
                </core:content>
            </core:message>
        </annotation>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.formattedstring" id="Cfb05b17a-dca3-486f-bb18-5eca732e1d91_C08467f52-22e7-4435-9031-9149c4aac7c6" priority="normal">
        <source name="var">
            <property>
                <type name="ax_lagebezeichnungohnehausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="land"/>
            </property>
        </source>
        <source name="var">
            <property>
                <type name="ax_lagebezeichnungohnehausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="regierungsbezirk">
                    <condition lang="CQL">value &lt;&gt; '0' and value &lt;&gt; ''</condition>
                </child>
            </property>
        </source>
        <target>
            <property>
                <type name="AddressType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="component" ns="http://inspire.ec.europa.eu/schemas/ad/4.0">
                    <context>1</context>
                </child>
                <child name="href" ns="http://www.w3.org/1999/xlink"/>
            </property>
        </target>
        <parameter value="#AdminUnitName_{land}{regierungsbezirk}" name="pattern"/>
        <documentation>Erzeugt die Referenz für das `AdminUnitName`-Objekt für den Regierungsbezirk.</documentation>
        <annotation type="message">
            <core:message xmlns:core="http://www.esdi-humboldt.eu/hale/core" category="migration">
                <core:content>
                    <core:text xml:space="preserve">Filter condition may not be valid because the entity it is applied to has been replaced</core:text>
                </core:content>
            </core:message>
        </annotation>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.formattedstring" id="Cd5f04e1f-ec85-4793-9745-2383cc48abb3_Cd5bb8841-8c5f-4712-bd15-03c3cf5d80ca" priority="normal">
        <source name="var">
            <property>
                <type name="ax_lagebezeichnungmithausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="kreis"/>
            </property>
        </source>
        <source name="var">
            <property>
                <type name="ax_lagebezeichnungmithausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="regierungsbezirk">
                    <condition lang="CQL">value &lt;&gt; '0' and value &lt;&gt; ''</condition>
                </child>
            </property>
        </source>
        <source name="var">
            <property>
                <type name="ax_lagebezeichnungmithausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="land"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AddressType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="component" ns="http://inspire.ec.europa.eu/schemas/ad/4.0">
                    <context>2</context>
                </child>
                <child name="href" ns="http://www.w3.org/1999/xlink"/>
            </property>
        </target>
        <parameter value="#AdminUnitName_{land}{regierungsbezirk}{kreis}" name="pattern"/>
        <annotation type="message">
            <core:message xmlns:core="http://www.esdi-humboldt.eu/hale/core" category="migration">
                <core:content>
                    <core:text xml:space="preserve">Filter condition may not be valid because the entity it is applied to has been replaced</core:text>
                </core:content>
            </core:message>
        </annotation>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.formattedstring" id="Cd5f04e1f-ec85-4793-9745-2383cc48abb3_C08467f52-22e7-4435-9031-9149c4aac7c6" priority="normal">
        <source name="var">
            <property>
                <type name="ax_lagebezeichnungohnehausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="kreis"/>
            </property>
        </source>
        <source name="var">
            <property>
                <type name="ax_lagebezeichnungohnehausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="regierungsbezirk">
                    <condition lang="CQL">value &lt;&gt; '0' and value &lt;&gt; ''</condition>
                </child>
            </property>
        </source>
        <source name="var">
            <property>
                <type name="ax_lagebezeichnungohnehausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="land"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AddressType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="component" ns="http://inspire.ec.europa.eu/schemas/ad/4.0">
                    <context>2</context>
                </child>
                <child name="href" ns="http://www.w3.org/1999/xlink"/>
            </property>
        </target>
        <parameter value="#AdminUnitName_{land}{regierungsbezirk}{kreis}" name="pattern"/>
        <annotation type="message">
            <core:message xmlns:core="http://www.esdi-humboldt.eu/hale/core" category="migration">
                <core:content>
                    <core:text xml:space="preserve">Filter condition may not be valid because the entity it is applied to has been replaced</core:text>
                </core:content>
            </core:message>
        </annotation>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.formattedstring" id="C75348f09-eb65-459e-b73f-79a19b3936db" priority="normal">
        <source name="var">
            <property>
                <type name="ax_georeferenziertegebaeudeadresse" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="postleitzahl"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AddressType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="component" ns="http://inspire.ec.europa.eu/schemas/ad/4.0">
                    <context>3</context>
                </child>
                <child name="href" ns="http://www.w3.org/1999/xlink"/>
            </property>
        </target>
        <parameter value="#PostalDescriptor_{postleitzahl}" name="pattern"/>
        <documentation>Erzeugt die Referenz auf das passende Objekt vom Typ `PostalDescriptor`.</documentation>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.formattedstring" id="C9c13ab33-02fc-4914-8236-c04b84052656_Cd5bb8841-8c5f-4712-bd15-03c3cf5d80ca" priority="normal">
        <source name="var">
            <property>
                <type name="ax_lagebezeichnungmithausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="gemeinde"/>
            </property>
        </source>
        <source name="var">
            <property>
                <type name="ax_lagebezeichnungmithausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="kreis"/>
            </property>
        </source>
        <source name="var">
            <property>
                <type name="ax_lagebezeichnungmithausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="regierungsbezirk">
                    <condition lang="CQL">value &lt;&gt; '0' and value &lt;&gt; ''</condition>
                </child>
            </property>
        </source>
        <source name="var">
            <property>
                <type name="ax_lagebezeichnungmithausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="land"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AddressType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="component" ns="http://inspire.ec.europa.eu/schemas/ad/4.0">
                    <context>4</context>
                </child>
                <child name="href" ns="http://www.w3.org/1999/xlink"/>
            </property>
        </target>
        <parameter value="#AdminUnitName_{land}{regierungsbezirk}{kreis}{gemeinde}" name="pattern"/>
        <documentation>Erzeugt eine Referenz auf das `AdminUnitName`-Objekt für die Gemeinde.</documentation>
        <annotation type="message">
            <core:message xmlns:core="http://www.esdi-humboldt.eu/hale/core" category="migration">
                <core:content>
                    <core:text xml:space="preserve">Filter condition may not be valid because the entity it is applied to has been replaced</core:text>
                </core:content>
            </core:message>
        </annotation>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.formattedstring" id="C9c13ab33-02fc-4914-8236-c04b84052656_C08467f52-22e7-4435-9031-9149c4aac7c6" priority="normal">
        <source name="var">
            <property>
                <type name="ax_lagebezeichnungohnehausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="gemeinde"/>
            </property>
        </source>
        <source name="var">
            <property>
                <type name="ax_lagebezeichnungohnehausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="kreis"/>
            </property>
        </source>
        <source name="var">
            <property>
                <type name="ax_lagebezeichnungohnehausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="regierungsbezirk">
                    <condition lang="CQL">value &lt;&gt; '0' and value &lt;&gt; ''</condition>
                </child>
            </property>
        </source>
        <source name="var">
            <property>
                <type name="ax_lagebezeichnungohnehausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="land"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AddressType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="component" ns="http://inspire.ec.europa.eu/schemas/ad/4.0">
                    <context>4</context>
                </child>
                <child name="href" ns="http://www.w3.org/1999/xlink"/>
            </property>
        </target>
        <parameter value="#AdminUnitName_{land}{regierungsbezirk}{kreis}{gemeinde}" name="pattern"/>
        <documentation>Erzeugt eine Referenz auf das `AdminUnitName`-Objekt für die Gemeinde.</documentation>
        <annotation type="message">
            <core:message xmlns:core="http://www.esdi-humboldt.eu/hale/core" category="migration">
                <core:content>
                    <core:text xml:space="preserve">Filter condition may not be valid because the entity it is applied to has been replaced</core:text>
                </core:content>
            </core:message>
        </annotation>
    </cell>
    <cell relation="eu.esdihumboldt.cst.functions.groovy" id="C5ddc268c-345b-42cb-878c-1aa8f266e86d_Cd5bb8841-8c5f-4712-bd15-03c3cf5d80ca" priority="normal">
        <source name="var">
            <property>
                <type name="ax_lagebezeichnungmithausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="gemeinde"/>
            </property>
        </source>
        <source name="var">
            <property>
                <type name="ax_lagebezeichnungmithausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="kreis"/>
            </property>
        </source>
        <source name="var">
            <property>
                <type name="ax_lagebezeichnungmithausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="land"/>
            </property>
        </source>
        <source name="var">
            <property>
                <type name="ax_lagebezeichnungmithausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="regierungsbezirk"/>
            </property>
        </source>
        <source name="var">
            <property>
                <type name="ax_lagebezeichnungmithausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="lage"/>
            </property>
        </source>
        <target name="result">
            <property>
                <type name="AddressType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="component" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="href" ns="http://www.w3.org/1999/xlink"/>
            </property>
        </target>
        <complexParameter name="script">
            <core:text xmlns:core="http://www.esdi-humboldt.eu/hale/core" xml:space="preserve">
def lage = lagebezeichnung_AX_Lagebezeichnung_choice_1_verschluesselt_AX_VerschluesselteLagebezeichnung_lage?.replaceAll(/[^a-zA-Z_0-9\-]/, '_')
def gemeinde = lagebezeichnung_AX_Lagebezeichnung_choice_1_verschluesselt_AX_VerschluesselteLagebezeichnung_gemeinde
def kreis = lagebezeichnung_AX_Lagebezeichnung_choice_1_verschluesselt_AX_VerschluesselteLagebezeichnung_kreis
def land = lagebezeichnung_AX_Lagebezeichnung_choice_1_verschluesselt_AX_VerschluesselteLagebezeichnung_land
def regierungsbezirk = lagebezeichnung_AX_Lagebezeichnung_choice_1_verschluesselt_AX_VerschluesselteLagebezeichnung_regierungsbezirk
if (!regierungsbezirk) {
	regierungsbezirk = '0'
}

if (lage) {
	"#ThoroughfareName_${land}${regierungsbezirk}${kreis}${gemeinde}${lage}"
}
else {
	throw new NoResultException()
}
</core:text>
        </complexParameter>
        <parameter value="false" name="variablesAsInstances"/>
        <annotation type="message">
            <core:message xmlns:core="http://www.esdi-humboldt.eu/hale/core" category="migration">
                <core:content>
                    <core:text xml:space="preserve">The cell's source entities have been replaced, the new entities may have a different structure and/or names and may require updating the Groovy script accordingly</core:text>
                </core:content>
            </core:message>
        </annotation>
    </cell>
    <cell relation="eu.esdihumboldt.cst.functions.groovy" id="C5ddc268c-345b-42cb-878c-1aa8f266e86d_C08467f52-22e7-4435-9031-9149c4aac7c6" priority="normal">
        <source name="var">
            <property>
                <type name="ax_lagebezeichnungohnehausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="gemeinde"/>
            </property>
        </source>
        <source name="var">
            <property>
                <type name="ax_lagebezeichnungohnehausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="kreis"/>
            </property>
        </source>
        <source name="var">
            <property>
                <type name="ax_lagebezeichnungohnehausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="land"/>
            </property>
        </source>
        <source name="var">
            <property>
                <type name="ax_lagebezeichnungohnehausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="regierungsbezirk"/>
            </property>
        </source>
        <source name="var">
            <property>
                <type name="ax_lagebezeichnungohnehausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="lage"/>
            </property>
        </source>
        <target name="result">
            <property>
                <type name="AddressType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="component" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="href" ns="http://www.w3.org/1999/xlink"/>
            </property>
        </target>
        <complexParameter name="script">
            <core:text xmlns:core="http://www.esdi-humboldt.eu/hale/core" xml:space="preserve">
def lage = lagebezeichnung_AX_Lagebezeichnung_choice_1_verschluesselt_AX_VerschluesselteLagebezeichnung_lage?.replaceAll(/[^a-zA-Z_0-9\-]/, '_')
def gemeinde = lagebezeichnung_AX_Lagebezeichnung_choice_1_verschluesselt_AX_VerschluesselteLagebezeichnung_gemeinde
def kreis = lagebezeichnung_AX_Lagebezeichnung_choice_1_verschluesselt_AX_VerschluesselteLagebezeichnung_kreis
def land = lagebezeichnung_AX_Lagebezeichnung_choice_1_verschluesselt_AX_VerschluesselteLagebezeichnung_land
def regierungsbezirk = lagebezeichnung_AX_Lagebezeichnung_choice_1_verschluesselt_AX_VerschluesselteLagebezeichnung_regierungsbezirk
if (!regierungsbezirk) {
	regierungsbezirk = '0'
}

if (lage) {
	"#ThoroughfareName_${land}${regierungsbezirk}${kreis}${gemeinde}${lage}"
}
else {
	throw new NoResultException()
}
</core:text>
        </complexParameter>
        <parameter value="false" name="variablesAsInstances"/>
        <annotation type="message">
            <core:message xmlns:core="http://www.esdi-humboldt.eu/hale/core" category="migration">
                <core:content>
                    <core:text xml:space="preserve">The cell's source entities have been replaced, the new entities may have a different structure and/or names and may require updating the Groovy script accordingly</core:text>
                </core:content>
            </core:message>
        </annotation>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.rename" id="C7d8d1bdc-e6b1-4e69-ae34-e09caa043943_Cd5bb8841-8c5f-4712-bd15-03c3cf5d80ca" priority="normal">
        <source>
            <property>
                <type name="ax_lagebezeichnungmithausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="endet"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AddressType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="endLifespanVersion" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
            </property>
        </target>
        <parameter value="false" name="ignoreNamespaces"/>
        <parameter value="false" name="structuralRename"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.rename" id="C7d8d1bdc-e6b1-4e69-ae34-e09caa043943_C08467f52-22e7-4435-9031-9149c4aac7c6" priority="normal">
        <source>
            <property>
                <type name="ax_lagebezeichnungohnehausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="endet"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AddressType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="endLifespanVersion" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
            </property>
        </target>
        <parameter value="false" name="ignoreNamespaces"/>
        <parameter value="false" name="structuralRename"/>
    </cell>
    <cell relation="custom:alignment:adv.inspire.id.default" id="C611cc7db-d565-41d6-8844-af5630d49a44_Cd5bb8841-8c5f-4712-bd15-03c3cf5d80ca" priority="normal">
        <source name="id">
            <property>
                <type name="ax_lagebezeichnungmithausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="gml_id"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AddressType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="id" ns="http://www.opengis.net/gml/3.2"/>
            </property>
        </target>
    </cell>
    <cell relation="custom:alignment:adv.inspire.id.default" id="C611cc7db-d565-41d6-8844-af5630d49a44_C08467f52-22e7-4435-9031-9149c4aac7c6" priority="normal">
        <source name="id">
            <property>
                <type name="ax_lagebezeichnungohnehausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="gml_id"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AddressType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="id" ns="http://www.opengis.net/gml/3.2"/>
            </property>
        </target>
    </cell>
    <cell relation="custom:alignment:adv.inspire.identifier" id="C514c4062-84f1-4c0c-90e1-f5aac7a4aa0a_Cd5bb8841-8c5f-4712-bd15-03c3cf5d80ca" priority="normal">
        <source name="id">
            <property>
                <type name="ax_lagebezeichnungmithausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="gml_id"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AddressType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="identifier" ns="http://www.opengis.net/gml/3.2"/>
            </property>
        </target>
    </cell>
    <cell relation="custom:alignment:adv.inspire.identifier" id="C514c4062-84f1-4c0c-90e1-f5aac7a4aa0a_C08467f52-22e7-4435-9031-9149c4aac7c6" priority="normal">
        <source name="id">
            <property>
                <type name="ax_lagebezeichnungohnehausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="gml_id"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AddressType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="identifier" ns="http://www.opengis.net/gml/3.2"/>
            </property>
        </target>
    </cell>
    <cell relation="custom:alignment:adv.inspire.id.default" id="C3a3fc659-5ed5-4c23-8db2-d3f21a170d9c_Cd5bb8841-8c5f-4712-bd15-03c3cf5d80ca" priority="normal">
        <source name="id">
            <property>
                <type name="ax_lagebezeichnungmithausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="gml_id"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AddressType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="inspireId" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="Identifier" ns="http://inspire.ec.europa.eu/schemas/base/3.3"/>
                <child name="localId" ns="http://inspire.ec.europa.eu/schemas/base/3.3"/>
            </property>
        </target>
    </cell>
    <cell relation="custom:alignment:adv.inspire.id.default" id="C3a3fc659-5ed5-4c23-8db2-d3f21a170d9c_C08467f52-22e7-4435-9031-9149c4aac7c6" priority="normal">
        <source name="id">
            <property>
                <type name="ax_lagebezeichnungohnehausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="gml_id"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AddressType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="inspireId" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="Identifier" ns="http://inspire.ec.europa.eu/schemas/base/3.3"/>
                <child name="localId" ns="http://inspire.ec.europa.eu/schemas/base/3.3"/>
            </property>
        </target>
    </cell>
    <cell relation="custom:alignment:adv.inspire.namespace" id="C81ca8ff9-70a5-4e3f-acbd-7dc642ec4c7c" priority="normal">
        <target>
            <property>
                <type name="AddressType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="inspireId" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="Identifier" ns="http://inspire.ec.europa.eu/schemas/base/3.3"/>
                <child name="namespace" ns="http://inspire.ec.europa.eu/schemas/base/3.3"/>
            </property>
        </target>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.rename" id="Cc1bccc4b-5745-499d-8ef0-451a219f429a" priority="normal">
        <source>
            <property>
                <type name="ax_lagebezeichnungmithausnummer" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="hausnummer"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AddressType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="locator" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="AddressLocator" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="designator" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="LocatorDesignator" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="designator" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
            </property>
        </target>
        <parameter value="false" name="ignoreNamespaces"/>
        <parameter value="false" name="structuralRename"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.assign" id="C2c8d71c6-dcbe-4bcd-a217-56f8830fdb0f" priority="normal">
        <target>
            <property>
                <type name="AddressType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="locator" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="AddressLocator" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="designator" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="LocatorDesignator" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="type" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="href" ns="http://www.w3.org/1999/xlink"/>
            </property>
        </target>
        <parameter value="http://inspire.ec.europa.eu/codelist/LocatorDesignatorTypeValue/addressNumber" name="value"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.assign" id="C627d5332-b4b2-4c4b-b229-7475ce547a3e" priority="normal">
        <target>
            <property>
                <type name="AddressType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="locator" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="AddressLocator" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="level" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="href" ns="http://www.w3.org/1999/xlink"/>
            </property>
        </target>
        <parameter value="http://inspire.ec.europa.eu/codelist/LocatorLevelValue/siteLevel" name="value"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.assign" id="Cb6d14144-fb01-49d3-ae82-98645c961794" priority="normal">
        <target>
            <property>
                <type name="AddressType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="validFrom" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="nilReason"/>
            </property>
        </target>
        <parameter value="other:unpopulated" name="value"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.retype" id="C8c2bf635-7286-4c70-8f5f-d8589052accd" priority="normal">
        <source>
            <class>
                <type name="ax_bundesland" ns="jdbc:postgresql:testbed:aaa_ogr"/>
            </class>
        </source>
        <target>
            <class>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
            </class>
        </target>
        <parameter value="false" name="ignoreNamespaces"/>
        <parameter value="false" name="structuralRename"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.retype" id="Cef658861-1b2b-4431-b31a-e0ec65c62402" priority="normal">
        <source>
            <class>
                <type name="ax_gemeinde" ns="jdbc:postgresql:testbed:aaa_ogr"/>
            </class>
        </source>
        <target>
            <class>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
            </class>
        </target>
        <parameter value="false" name="ignoreNamespaces"/>
        <parameter value="false" name="structuralRename"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.retype" id="Cbc19c1b0-4c69-4997-8f49-cb02a3332759" priority="normal">
        <source>
            <class>
                <type name="ax_kreisregion" ns="jdbc:postgresql:testbed:aaa_ogr"/>
            </class>
        </source>
        <target>
            <class>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
            </class>
        </target>
        <parameter value="false" name="ignoreNamespaces"/>
        <parameter value="false" name="structuralRename"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.retype" id="C42e5309f-ca89-4f2c-af7a-5b01f97c64fb" priority="normal">
        <source>
            <class>
                <type name="ax_nationalstaat" ns="jdbc:postgresql:testbed:aaa_ogr"/>
            </class>
        </source>
        <target>
            <class>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
            </class>
        </target>
        <parameter value="false" name="ignoreNamespaces"/>
        <parameter value="false" name="structuralRename"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.retype" id="Cd0c5ca3f-089f-4614-9d37-b68c4598281a" priority="normal">
        <source>
            <class>
                <type name="ax_regierungsbezirk" ns="jdbc:postgresql:testbed:aaa_ogr"/>
            </class>
        </source>
        <target>
            <class>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
            </class>
        </target>
        <parameter value="false" name="ignoreNamespaces"/>
        <parameter value="false" name="structuralRename"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.formattedstring" id="C847c7f67-397e-4372-97ca-293127298fd1" priority="normal">
        <source name="var">
            <property>
                <type name="ax_bundesland" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="schluesselgesamt"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="adminUnit" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="href" ns="http://www.w3.org/1999/xlink"/>
            </property>
        </target>
        <parameter value="{{project:CROSSTHEME_ADMINISTRATIVEUNITS_URL}}AdministrativeUnit_{schluesselgesamt}" name="pattern"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.formattedstring" id="C54014c56-b10e-4977-add0-24d5ba8d397e" priority="normal">
        <source name="var">
            <property>
                <type name="ax_gemeinde" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="schluesselgesamt"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="adminUnit" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="href" ns="http://www.w3.org/1999/xlink"/>
            </property>
        </target>
        <parameter value="{{project:CROSSTHEME_ADMINISTRATIVEUNITS_URL}}AdministrativeUnit_{schluesselgesamt}" name="pattern"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.formattedstring" id="C2140242a-bc85-46bd-a704-a96ea91c8aeb" priority="normal">
        <source name="var">
            <property>
                <type name="ax_kreisregion" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="schluesselgesamt"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="adminUnit" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="href" ns="http://www.w3.org/1999/xlink"/>
            </property>
        </target>
        <parameter value="{{project:CROSSTHEME_ADMINISTRATIVEUNITS_URL}}AdministrativeUnit_{schluesselgesamt}" name="pattern"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.formattedstring" id="C09ee835b-20d0-486a-be5e-a2fa5af5d35d" priority="normal">
        <source name="var">
            <property>
                <type name="ax_regierungsbezirk" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="schluesselgesamt"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="adminUnit" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="href" ns="http://www.w3.org/1999/xlink"/>
            </property>
        </target>
        <parameter value="{{project:CROSSTHEME_ADMINISTRATIVEUNITS_URL}}AdministrativeUnit_{schluesselgesamt}" name="pattern"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.rename" id="Cb184f148-a9ee-4170-a5da-e425a0fe2cc2" priority="normal">
        <source>
            <property>
                <type name="ax_bundesland" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="schluesselgesamt"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="alternativeIdentifier" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
            </property>
        </target>
        <parameter value="false" name="ignoreNamespaces"/>
        <parameter value="false" name="structuralRename"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.rename" id="Ce54ba4cd-801f-4606-9410-b7d2d89649b5" priority="normal">
        <source>
            <property>
                <type name="ax_gemeinde" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="schluesselgesamt"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="alternativeIdentifier" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
            </property>
        </target>
        <parameter value="false" name="ignoreNamespaces"/>
        <parameter value="false" name="structuralRename"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.rename" id="C1e277297-eb69-46ae-8d3b-18ec46f498da" priority="normal">
        <source>
            <property>
                <type name="ax_kreisregion" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="schluesselgesamt"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="alternativeIdentifier" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
            </property>
        </target>
        <parameter value="false" name="ignoreNamespaces"/>
        <parameter value="false" name="structuralRename"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.rename" id="Cf2907904-ac59-4dfb-96eb-67b187deb8f2" priority="normal">
        <source>
            <property>
                <type name="ax_nationalstaat" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="schluesselgesamt"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="alternativeIdentifier" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
            </property>
        </target>
        <parameter value="false" name="ignoreNamespaces"/>
        <parameter value="false" name="structuralRename"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.rename" id="C937d4514-6da0-4e5c-9d4f-67e2d46f73ec" priority="normal">
        <source>
            <property>
                <type name="ax_regierungsbezirk" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="schluesselgesamt"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="alternativeIdentifier" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
            </property>
        </target>
        <parameter value="false" name="ignoreNamespaces"/>
        <parameter value="false" name="structuralRename"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.rename" id="Cc3745d4c-517a-4c5d-a0bf-ad8908bce866" priority="normal">
        <source>
            <property>
                <type name="ax_bundesland" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="beginnt"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="beginLifespanVersion" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
            </property>
        </target>
        <parameter value="false" name="ignoreNamespaces"/>
        <parameter value="false" name="structuralRename"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.rename" id="C678fa6c6-6d21-41f7-a03b-b44cf7f9df93" priority="normal">
        <source>
            <property>
                <type name="ax_gemeinde" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="beginnt"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="beginLifespanVersion" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
            </property>
        </target>
        <parameter value="false" name="ignoreNamespaces"/>
        <parameter value="false" name="structuralRename"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.rename" id="Cd93081b4-fc11-4825-bf0d-f2f02cc88589" priority="normal">
        <source>
            <property>
                <type name="ax_kreisregion" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="beginnt"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="beginLifespanVersion" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
            </property>
        </target>
        <parameter value="false" name="ignoreNamespaces"/>
        <parameter value="false" name="structuralRename"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.rename" id="Cfe9f05f3-7e7c-43d1-883a-e215c07c6c62" priority="normal">
        <source>
            <property>
                <type name="ax_nationalstaat" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="beginnt"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="beginLifespanVersion" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
            </property>
        </target>
        <parameter value="false" name="ignoreNamespaces"/>
        <parameter value="false" name="structuralRename"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.rename" id="Cdb60c4eb-8ffa-49dc-b43c-03b8eba3620d" priority="normal">
        <source>
            <property>
                <type name="ax_regierungsbezirk" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="beginnt"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="beginLifespanVersion" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
            </property>
        </target>
        <parameter value="false" name="ignoreNamespaces"/>
        <parameter value="false" name="structuralRename"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.assign" id="Cdf998527-b6c2-4bb3-b6a0-6ef6399a86c8" priority="normal">
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="beginLifespanVersion" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="nilReason"/>
            </property>
        </target>
        <parameter value="unknown" name="value"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.rename" id="Ceda0b304-65ef-4b74-97e3-b589d0d110cd" priority="normal">
        <source>
            <property>
                <type name="ax_bundesland" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="endet"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="endLifespanVersion" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
            </property>
        </target>
        <parameter value="false" name="ignoreNamespaces"/>
        <parameter value="false" name="structuralRename"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.rename" id="Cb9a13692-9d01-4d84-a425-743f3b905ec8" priority="normal">
        <source>
            <property>
                <type name="ax_gemeinde" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="endet"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="endLifespanVersion" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
            </property>
        </target>
        <parameter value="false" name="ignoreNamespaces"/>
        <parameter value="false" name="structuralRename"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.rename" id="C544ace01-519f-454b-9cbc-f0e700883861" priority="normal">
        <source>
            <property>
                <type name="ax_kreisregion" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="endet"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="endLifespanVersion" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
            </property>
        </target>
        <parameter value="false" name="ignoreNamespaces"/>
        <parameter value="false" name="structuralRename"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.rename" id="Cdf273295-0b54-4885-a7b7-40ab21646b5d" priority="normal">
        <source>
            <property>
                <type name="ax_nationalstaat" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="endet"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="endLifespanVersion" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
            </property>
        </target>
        <parameter value="false" name="ignoreNamespaces"/>
        <parameter value="false" name="structuralRename"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.rename" id="Ca61f94ac-63c5-4a7a-be15-8c88be2c95cb" priority="normal">
        <source>
            <property>
                <type name="ax_regierungsbezirk" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="endet"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="endLifespanVersion" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
            </property>
        </target>
        <parameter value="false" name="ignoreNamespaces"/>
        <parameter value="false" name="structuralRename"/>
    </cell>
    <cell relation="custom:alignment:adv.inspire.id.default" id="C3f9ca71b-a625-4e8b-ad52-6712f6317f97" priority="normal">
        <source name="id">
            <property>
                <type name="ax_bundesland" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="schluesselgesamt"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="id" ns="http://www.opengis.net/gml/3.2"/>
            </property>
        </target>
        <parameter value="true" name="useTargetTypePrefix"/>
    </cell>
    <cell relation="custom:alignment:adv.inspire.id.default" id="Cc04d23a8-6c5a-42c2-ad04-e3294f387196" priority="normal">
        <source name="id">
            <property>
                <type name="ax_gemeinde" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="schluesselgesamt"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="id" ns="http://www.opengis.net/gml/3.2"/>
            </property>
        </target>
        <parameter value="true" name="useTargetTypePrefix"/>
    </cell>
    <cell relation="custom:alignment:adv.inspire.id.default" id="C92da1fa2-7273-40cf-824b-9b879c6fb176" priority="normal">
        <source name="id">
            <property>
                <type name="ax_kreisregion" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="schluesselgesamt"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="id" ns="http://www.opengis.net/gml/3.2"/>
            </property>
        </target>
        <parameter value="true" name="useTargetTypePrefix"/>
    </cell>
    <cell relation="custom:alignment:adv.inspire.id.default" id="C20893371-284d-40c4-bf1e-0429d0c613f1" priority="normal">
        <source name="id">
            <property>
                <type name="ax_nationalstaat" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="schluesselgesamt"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="id" ns="http://www.opengis.net/gml/3.2"/>
            </property>
        </target>
        <parameter value="true" name="useTargetTypePrefix"/>
    </cell>
    <cell relation="custom:alignment:adv.inspire.id.default" id="C95bceb6a-f6d2-4984-87dc-a384f1db0107" priority="normal">
        <source name="id">
            <property>
                <type name="ax_regierungsbezirk" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="schluesselgesamt"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="id" ns="http://www.opengis.net/gml/3.2"/>
            </property>
        </target>
        <parameter value="true" name="useTargetTypePrefix"/>
    </cell>
    <cell relation="custom:alignment:adv.inspire.identifier" id="C03637c18-11f1-4184-92ad-311e18881ead" priority="normal">
        <source name="id">
            <property>
                <type name="ax_bundesland" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="gml_id"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="identifier" ns="http://www.opengis.net/gml/3.2"/>
            </property>
        </target>
    </cell>
    <cell relation="custom:alignment:adv.inspire.identifier" id="C9f710d24-fa55-4bd5-8acb-b710231f2dd7" priority="normal">
        <source name="id">
            <property>
                <type name="ax_gemeinde" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="gml_id"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="identifier" ns="http://www.opengis.net/gml/3.2"/>
            </property>
        </target>
    </cell>
    <cell relation="custom:alignment:adv.inspire.identifier" id="C4bc9b5df-5bf6-4014-96a0-f7e441935a72" priority="normal">
        <source name="id">
            <property>
                <type name="ax_kreisregion" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="gml_id"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="identifier" ns="http://www.opengis.net/gml/3.2"/>
            </property>
        </target>
    </cell>
    <cell relation="custom:alignment:adv.inspire.identifier" id="Cf698d364-855f-47dd-8680-7076f04a5ec3" priority="normal">
        <source name="id">
            <property>
                <type name="ax_nationalstaat" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="gml_id"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="identifier" ns="http://www.opengis.net/gml/3.2"/>
            </property>
        </target>
    </cell>
    <cell relation="custom:alignment:adv.inspire.identifier" id="Cfa22cf7c-79bf-4f87-a385-c4c7c0d063eb" priority="normal">
        <source name="id">
            <property>
                <type name="ax_regierungsbezirk" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="gml_id"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="identifier" ns="http://www.opengis.net/gml/3.2"/>
            </property>
        </target>
    </cell>
    <cell relation="custom:alignment:adv.inspire.id.default" id="C64322369-f36d-4ee3-beb5-b8ab3ff8c48e" priority="normal">
        <source name="id">
            <property>
                <type name="ax_bundesland" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="gml_id"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="inspireId" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="Identifier" ns="http://inspire.ec.europa.eu/schemas/base/3.3"/>
                <child name="localId" ns="http://inspire.ec.europa.eu/schemas/base/3.3"/>
            </property>
        </target>
    </cell>
    <cell relation="custom:alignment:adv.inspire.id.default" id="C91ecd964-bc5d-4457-8398-0ab9b627269a" priority="normal">
        <source name="id">
            <property>
                <type name="ax_gemeinde" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="gml_id"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="inspireId" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="Identifier" ns="http://inspire.ec.europa.eu/schemas/base/3.3"/>
                <child name="localId" ns="http://inspire.ec.europa.eu/schemas/base/3.3"/>
            </property>
        </target>
    </cell>
    <cell relation="custom:alignment:adv.inspire.id.default" id="C454f0fff-315e-445b-baf8-c1ec2b19dcbd" priority="normal">
        <source name="id">
            <property>
                <type name="ax_kreisregion" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="gml_id"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="inspireId" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="Identifier" ns="http://inspire.ec.europa.eu/schemas/base/3.3"/>
                <child name="localId" ns="http://inspire.ec.europa.eu/schemas/base/3.3"/>
            </property>
        </target>
    </cell>
    <cell relation="custom:alignment:adv.inspire.id.default" id="C13a60ed0-8838-46d8-b546-00e7af583b52" priority="normal">
        <source name="id">
            <property>
                <type name="ax_nationalstaat" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="gml_id"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="inspireId" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="Identifier" ns="http://inspire.ec.europa.eu/schemas/base/3.3"/>
                <child name="localId" ns="http://inspire.ec.europa.eu/schemas/base/3.3"/>
            </property>
        </target>
    </cell>
    <cell relation="custom:alignment:adv.inspire.id.default" id="C4f35a356-25ea-49e5-b567-ad49cd1f92e7" priority="normal">
        <source name="id">
            <property>
                <type name="ax_regierungsbezirk" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="gml_id"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="inspireId" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="Identifier" ns="http://inspire.ec.europa.eu/schemas/base/3.3"/>
                <child name="localId" ns="http://inspire.ec.europa.eu/schemas/base/3.3"/>
            </property>
        </target>
    </cell>
    <cell relation="custom:alignment:adv.inspire.namespace" id="C2123165a-4b54-4288-8842-132fcbd91d7a" priority="normal">
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="inspireId" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="Identifier" ns="http://inspire.ec.europa.eu/schemas/base/3.3"/>
                <child name="namespace" ns="http://inspire.ec.europa.eu/schemas/base/3.3"/>
            </property>
        </target>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.assign.bound" id="Cd89386a6-97dd-4cb9-979a-c159ce868ff8" priority="normal">
        <source name="anchor">
            <property>
                <type name="ax_bundesland" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="gml_id"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="level" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="href" ns="http://www.w3.org/1999/xlink"/>
            </property>
        </target>
        <parameter value="http://inspire.ec.europa.eu/codelist/AdministrativeHierarchyLevel/2ndOrder" name="value"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.assign.bound" id="C6f5eed43-e487-438c-a4fd-58b80a31b093" priority="normal">
        <source name="anchor">
            <property>
                <type name="ax_gemeinde" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="gml_id"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="level" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="href" ns="http://www.w3.org/1999/xlink"/>
            </property>
        </target>
        <parameter value="http://inspire.ec.europa.eu/codelist/AdministrativeHierarchyLevel/6thOrder" name="value"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.assign.bound" id="C2333bef3-c1a0-4a84-accd-920b2354400f" priority="normal">
        <source name="anchor">
            <property>
                <type name="ax_kreisregion" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="gml_id"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="level" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="href" ns="http://www.w3.org/1999/xlink"/>
            </property>
        </target>
        <parameter value="http://inspire.ec.europa.eu/codelist/AdministrativeHierarchyLevel/4thOrder" name="value"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.assign.bound" id="C47709e26-5e8e-4a25-845e-986a6fd20685" priority="normal">
        <source name="anchor">
            <property>
                <type name="ax_nationalstaat" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="gml_id"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="level" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="href" ns="http://www.w3.org/1999/xlink"/>
            </property>
        </target>
        <parameter value="http://inspire.ec.europa.eu/codelist/AdministrativeHierarchyLevel/1stOrder" name="value"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.assign.bound" id="Ca809a2dd-4cbc-4f5a-9dd5-8f08ba8f892a" priority="normal">
        <source name="anchor">
            <property>
                <type name="ax_regierungsbezirk" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="gml_id"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="level" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="href" ns="http://www.w3.org/1999/xlink"/>
            </property>
        </target>
        <parameter value="http://inspire.ec.europa.eu/codelist/AdministrativeHierarchyLevel/3rdOrder" name="value"/>
    </cell>
    <cell relation="custom:alignment:adv.inspire.GeographicalName.simple" id="C2cec625e-879a-4406-b77a-570f4acf7a16" priority="normal">
        <source name="spelling">
            <property>
                <type name="ax_bundesland" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="bezeichnung"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="name" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="GeographicalName" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
            </property>
        </target>
        <parameter value="DLKM" name="source"/>
    </cell>
    <cell relation="custom:alignment:adv.inspire.GeographicalName.simple" id="C9bd3802a-3312-4c60-b65c-01716f854e9b" priority="normal">
        <source name="spelling">
            <property>
                <type name="ax_gemeinde" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="bezeichnung"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="name" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="GeographicalName" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
            </property>
        </target>
        <parameter value="DLKM" name="source"/>
    </cell>
    <cell relation="custom:alignment:adv.inspire.GeographicalName.simple" id="C9c6a4a39-4371-4afd-b95b-99ea5b2efdfe" priority="normal">
        <source name="spelling">
            <property>
                <type name="ax_kreisregion" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="bezeichnung"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="name" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="GeographicalName" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
            </property>
        </target>
        <parameter value="DLKM" name="source"/>
    </cell>
    <cell relation="custom:alignment:adv.inspire.GeographicalName.simple" id="Cbd19a099-b6aa-46e0-952d-3ee56a523b0e" priority="normal">
        <source name="spelling">
            <property>
                <type name="ax_nationalstaat" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="bezeichnung"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="name" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="GeographicalName" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
            </property>
        </target>
        <parameter value="DLKM" name="source"/>
    </cell>
    <cell relation="custom:alignment:adv.inspire.GeographicalName.simple" id="C59c011ba-f77e-4f86-a34b-abea477d1886" priority="normal">
        <source name="spelling">
            <property>
                <type name="ax_regierungsbezirk" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="bezeichnung"/>
            </property>
        </source>
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="name" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="GeographicalName" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
            </property>
        </target>
        <parameter value="DLKM" name="source"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.assign" id="C7adb482f-dff2-4ef5-a495-6518987d3635" priority="normal">
        <target>
            <property>
                <type name="AdminUnitNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="validFrom" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="nilReason"/>
            </property>
        </target>
        <parameter value="other:unpopulated" name="value"/>
    </cell>
    <cell relation="eu.esdihumboldt.cst.functions.groovy.create" id="C82fe07db-c91f-4c32-8f77-0f3b64f8eebe" priority="normal">
        <target>
            <class>
                <type name="PostalDescriptorType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
            </class>
        </target>
        <complexParameter name="script">
            <core:text xmlns:core="http://www.esdi-humboldt.eu/hale/core" xml:space="preserve">
def c = _.context.collector()&#13;
&#13;
c.PLZcollection.each{ key, values -&gt;&#13;
	if(key){&#13;
			_target{&#13;
				inspireId {&#13;
				Identifier {&#13;
						namespace( _project.vars.INSPIRE_NAMESPACE )&#13;
						localId( 'PostalDescriptor_' + key )&#13;
					}&#13;
				}&#13;
				id( 'PostalDescriptor_' + key )&#13;
				validFrom( ) {&#13;
					nilReason( 'other:unpopulated' )&#13;
				}&#13;
				postCode( key )&#13;
				beginLifespanVersion( ) {&#13;
					nilReason( 'other:unpopulated' )&#13;
				}&#13;
				identifier( _project.vars.INSPIRE_NAMESPACE + 'PostalDescriptor_' + key ) {&#13;
					codeSpace( 'http://inspire.ec.europa.eu/ids' )&#13;
				}&#13;
				postName {&#13;
					GeographicalName {&#13;
						sourceOfName( ) {&#13;
							nilReason( 'other:unpopulated' )&#13;
						}&#13;
						values.each{value -&gt;&#13;
							spelling {&#13;
								SpellingOfName {&#13;
									text( value )&#13;
									script( 'Latn' )&#13;
								}&#13;
							}&#13;
						}&#13;
						pronunciation {&#13;
							nilReason( 'other:unpopulated' )&#13;
						}&#13;
						language( 'deu' )&#13;
						nameStatus {&#13;
							href( 'http://inspire.ec.europa.eu/codelist/NameStatusValue/official' )&#13;
						}&#13;
						nativeness {&#13;
							href( 'http://inspire.ec.europa.eu/codelist/NativenessValue/endonym' )&#13;
						}&#13;
					}&#13;
				}&#13;
			}&#13;
	}&#13;
}
</core:text>
        </complexParameter>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.retype" id="C9fc48689-dc97-4f8a-864a-1557dcf3c563" priority="normal">
        <source>
            <class>
                <type name="ax_lagebezeichnungkatalogeintrag" ns="jdbc:postgresql:testbed:aaa_ogr"/>
            </class>
        </source>
        <target>
            <class>
                <type name="ThoroughfareNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
            </class>
        </target>
        <parameter value="false" name="ignoreNamespaces"/>
        <parameter value="false" name="structuralRename"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.rename" id="C3e6e7ee6-189b-4dc3-9cbc-05e4319721b3" priority="normal">
        <source>
            <property>
                <type name="ax_lagebezeichnungkatalogeintrag" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="kennung"/>
            </property>
        </source>
        <target>
            <property>
                <type name="ThoroughfareNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="alternativeIdentifier" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
            </property>
        </target>
        <parameter value="false" name="ignoreNamespaces"/>
        <parameter value="false" name="structuralRename"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.rename" id="Ca2326213-385b-46a1-921b-34bdb65470b9" priority="normal">
        <source>
            <property>
                <type name="ax_lagebezeichnungkatalogeintrag" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="beginnt"/>
            </property>
        </source>
        <target>
            <property>
                <type name="ThoroughfareNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="beginLifespanVersion" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
            </property>
        </target>
        <parameter value="false" name="ignoreNamespaces"/>
        <parameter value="false" name="structuralRename"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.assign" id="Cecd37f01-722c-4732-ae93-20a18334adc0" priority="normal">
        <target>
            <property>
                <type name="ThoroughfareNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="beginLifespanVersion" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="nilReason"/>
            </property>
        </target>
        <parameter value="unknown" name="value"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.rename" id="Cee50530f-ceb8-4c36-8ba6-994ce78aa2d2" priority="normal">
        <source>
            <property>
                <type name="ax_lagebezeichnungkatalogeintrag" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="endet"/>
            </property>
        </source>
        <target>
            <property>
                <type name="ThoroughfareNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="endLifespanVersion" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
            </property>
        </target>
        <parameter value="false" name="ignoreNamespaces"/>
        <parameter value="false" name="structuralRename"/>
    </cell>
    <cell relation="eu.esdihumboldt.cst.functions.groovy" id="C9ebaec5d-217e-46b6-b415-7ff0035e0471" priority="normal">
        <source name="var">
            <property>
                <type name="ax_lagebezeichnungkatalogeintrag" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="schluesselgesamt"/>
            </property>
        </source>
        <target name="result">
            <property>
                <type name="ThoroughfareNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="id" ns="http://www.opengis.net/gml/3.2"/>
            </property>
        </target>
        <complexParameter name="script">
            <core:text xmlns:core="http://www.esdi-humboldt.eu/hale/core" xml:space="preserve">
def id = schluesselGesamt.replaceAll(/[^a-zA-Z_0-9\-]/, '_')

"ThoroughfareName_$id"
</core:text>
        </complexParameter>
        <parameter value="false" name="variablesAsInstances"/>
        <annotation type="message">
            <core:message xmlns:core="http://www.esdi-humboldt.eu/hale/core" category="migration">
                <core:content>
                    <core:text xml:space="preserve">The cell's source entities have been replaced, the new entities may have a different structure and/or names and may require updating the Groovy script accordingly</core:text>
                </core:content>
            </core:message>
        </annotation>
    </cell>
    <cell relation="eu.esdihumboldt.cst.functions.groovy" id="C2ba772ba-9381-4ba1-9db4-8bdb0b18254b" priority="normal">
        <source name="var">
            <property>
                <type name="ax_lagebezeichnungkatalogeintrag" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="schluesselgesamt"/>
            </property>
        </source>
        <target name="result">
            <property>
                <type name="ThoroughfareNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="identifier" ns="http://www.opengis.net/gml/3.2"/>
            </property>
        </target>
        <complexParameter name="script">
            <core:text xmlns:core="http://www.esdi-humboldt.eu/hale/core" xml:space="preserve">
def id = schluesselGesamt.replaceAll(/[^a-zA-Z_0-9\-]/, '_')

def ns = _project.vars.INSPIRE_NAMESPACE
if (ns &amp;&amp; !ns.endsWith('/')) {
	ns = ns + '/'
}

"${ns}ThoroughfareName_$id"
</core:text>
        </complexParameter>
        <parameter value="false" name="variablesAsInstances"/>
        <annotation type="message">
            <core:message xmlns:core="http://www.esdi-humboldt.eu/hale/core" category="migration">
                <core:content>
                    <core:text xml:space="preserve">The cell's source entities have been replaced, the new entities may have a different structure and/or names and may require updating the Groovy script accordingly</core:text>
                </core:content>
            </core:message>
        </annotation>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.assign" id="C35cc4a66-a7e9-4ed9-897e-00221d22e3f6" priority="normal">
        <target>
            <property>
                <type name="ThoroughfareNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="identifier" ns="http://www.opengis.net/gml/3.2"/>
                <child name="codeSpace"/>
            </property>
        </target>
        <parameter value="http://inspire.ec.europa.eu/ids" name="value"/>
    </cell>
    <cell relation="eu.esdihumboldt.cst.functions.groovy" id="Cd23c54a8-af62-450c-a635-a6744ef77828" priority="normal">
        <source name="var">
            <property>
                <type name="ax_lagebezeichnungkatalogeintrag" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="schluesselgesamt"/>
            </property>
        </source>
        <target name="result">
            <property>
                <type name="ThoroughfareNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="inspireId" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="Identifier" ns="http://inspire.ec.europa.eu/schemas/base/3.3"/>
                <child name="localId" ns="http://inspire.ec.europa.eu/schemas/base/3.3"/>
            </property>
        </target>
        <complexParameter name="script">
            <core:text xmlns:core="http://www.esdi-humboldt.eu/hale/core" xml:space="preserve">
def id = schluesselGesamt.replaceAll(/[^a-zA-Z_0-9\-]/, '_')

"ThoroughfareName_$id"
</core:text>
        </complexParameter>
        <parameter value="false" name="variablesAsInstances"/>
        <annotation type="message">
            <core:message xmlns:core="http://www.esdi-humboldt.eu/hale/core" category="migration">
                <core:content>
                    <core:text xml:space="preserve">The cell's source entities have been replaced, the new entities may have a different structure and/or names and may require updating the Groovy script accordingly</core:text>
                </core:content>
            </core:message>
        </annotation>
    </cell>
    <cell relation="custom:alignment:adv.inspire.namespace" id="Cabf5e74f-45b2-4c28-ab8f-32252b9aa862" priority="normal">
        <target>
            <property>
                <type name="ThoroughfareNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="inspireId" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="Identifier" ns="http://inspire.ec.europa.eu/schemas/base/3.3"/>
                <child name="namespace" ns="http://inspire.ec.europa.eu/schemas/base/3.3"/>
            </property>
        </target>
    </cell>
    <cell relation="custom:alignment:adv.inspire.GeographicalName.simple" id="C92934998-8d8a-41d9-ad6d-f2aeb4227180" priority="normal">
        <source name="spelling">
            <property>
                <type name="ax_lagebezeichnungkatalogeintrag" ns="jdbc:postgresql:testbed:aaa_ogr"/>
                <child name="bezeichnung"/>
            </property>
        </source>
        <target>
            <property>
                <type name="ThoroughfareNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="name" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="ThoroughfareNameValue" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="name" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="GeographicalName" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
            </property>
        </target>
        <parameter value="DLKM" name="source"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.assign" id="C7b56fcba-904c-42f8-b005-f5b9b5c2d421" priority="normal">
        <target>
            <property>
                <type name="ThoroughfareNameType" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="validFrom" ns="http://inspire.ec.europa.eu/schemas/ad/4.0"/>
                <child name="nilReason"/>
            </property>
        </target>
        <parameter value="other:unpopulated" name="value"/>
    </cell>
</alignment>
